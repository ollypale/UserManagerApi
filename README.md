# UserManagerApi
Этот проект представляет собой Web API сервис на ASP.NET Core 9 , разработанный в рамках тестового задания для стажировки.

## Цель

Реализовать REST API с CRUD-операциями над сущностью `User`, защитой через JWT-токены, интерфейсом через Swagger, а также ограничением доступа к операциям по ролям.

## Выполненные требования задания

### Общие условия
- ASP.NET Core 9+
- Интерфейс Swagger
- Работает в памяти (in-memory хранилище)
- CRUD-методы контроллера UsersController
  - понятные ответы и сообщения об ошибках
- JWT-токены
  - Защищённые методы требуют действительного JWT
  - Swagger поддерживает ввод токена (`Authorize` ➝ `Bearer {token}`)
  - Учитываются роли: `Admin` и `User`

---

### CRUD методы `UsersController`

#### Create
-  **Создание пользователя** (логин, пароль, имя, пол, дата рождения, роль) — _доступно только админам_

#### Update-1
- **Изменение имени, пола, даты рождения** — _доступно админам или самому пользователю (если активен)_
- **Изменение пароля** — _доступно админам или самому пользователю (если активен)_
- **Изменение логина** — _доступно админам или самому пользователю (если активен), логин остаётся уникальным_

#### Read
- **Список активных пользователей**, отсортированных по `CreatedOn` — _доступно только админам_
- **Данные пользователя** (имя, пол, дата рождения, статус) — _доступно только админам_
- **Поиск по логину и паролю** — _доступно только самому пользователю (если активен)_
- **Пользователи старше заданного возраста** — _доступно только админам_

#### Delete
- **Удаление пользователя (жесткое или мягкое)** — _доступно только админам_
  - Мягкое удаление заполняет `RevokedOn` и `RevokedBy`

#### Update-2
- **Восстановление пользователя** — очистка `RevokedOn` и `RevokedBy`, _доступно только админам_

---

### Поля сущности `User`

| Поле         | Тип            | Описание                                      |
|--------------|----------------|-----------------------------------------------|
| Guid         | Guid           | Уникальный идентификатор пользователя         |
| Login        | string         | Уникальный логин (только латинские буквы и цифры) |
| Password     | string         | Пароль (только латинские буквы и цифры)       |
| Name         | string         | Имя (только русские и латинские буквы)        |
| Gender       | int            | Пол (0 - женщина, 1 - мужчина, 2 - неизвестно) |
| Birthday     | DateTime?      | Дата рождения (необязательна)                 |
| Admin        | bool           | Является ли пользователь админом              |
| CreatedOn    | DateTime       | Дата создания                                 |
| CreatedBy    | string         | Кто создал                                    |
| ModifiedOn   | DateTime       | Дата последнего изменения                     |
| ModifiedBy   | string         | Кто изменил                                   |
| RevokedOn    | DateTime?      | Дата мягкого удаления                         |
| RevokedBy    | string?        | Кто удалил                                    |

---

## Мои Контакты
- **Имя**: Копылова Ольга Павлона
- **Email**: kopylova.olga.1@yandex.ru
- **Telegram**: https://t.me/ollypale
- **Вконтакте**: https://vk.com/ollypale

Спасибо за внимание!
